---
/**
 * NavDropdown Component
 * Reusable dropdown submenu for database categories
 * Styling consolidated in navbar.css for consistent theming
 */
import { type CollectionEntry } from "astro:content";

interface Props {
  category: string;
  entries: CollectionEntry<"mysql" | "mariadb" | "mssql" | "oracle" | "postgresql" | "extras">[];
  baseUrl: string;
  section: string;
  isActivePath: (section: string, slug: string) => boolean;
}

const { category, entries, baseUrl, section, isActivePath } = Astro.props;
---

<div class="dropdown-submenu">
  <div class="dropdown-header">{category}</div>
  <ul class="dropdown-list">
    {
      entries.map((entry) => (
        <li>
          <a
            href={`${baseUrl}${section}/${entry.slug}`}
            class:list={["dropdown-item", { active: isActivePath(section, entry.slug) }]}
            aria-label={entry.data.title || `${section.toUpperCase()} ${entry.slug}`}
          >
            {entry.data.title || entry.slug}
          </a>
        </li>
      ))
    }
  </ul>
</div>
